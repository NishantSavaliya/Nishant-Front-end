<!DOCTYPE html>
<html lang="en">
<head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Form Validation</title>

      <!-- Boostrap CDN -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
      <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

</head>
<body>
      <section class="mx-auto">
            <form id="frm" class="form w-50 border border-0 shadow mt-5 mx-auto p-3">
                  <div class="ms-5">
                        <label for="username" class="form-label">User Name : </label><br>
                        <input type="text" id="userName" class="form-control w-75">
                        <p id="userError" class="text-danger fs-6 w-75"></p>
                  </div>

                  <div class="ms-5">
                        <label for="Email" class="form-label">Email : </label><br>
                        <input type="email" id="email" class="form-control w-75">
                        <p id="emailError" class="text-danger fs-6 w-75"></p>
                  </div>

                  <div class="ms-5">
                        <label for="password" class="form-label">Password : </label><br>
                        <input type="password" id="password" class="form-control w-75">
                        <p id="pwError" class="text-danger fs-6 w-75"></p>
                  </div>

                  <div class="ms-5">
                        <label for="Comfirm password" class="form-label">Comfirm Password : </label><br>
                        <input type="password" id="conPassword" class="form-control w-75">
                        <p id="conpwError" class="text-danger fs-6 w-75"></p>
                  </div>

                  <button id="btn" type="submit" class="btn btn-primary btn-md text-white ms-5"> Sign-up</button>
            </form>
      </section>

<!-- Javascript -->

      <script>
            document.getElementById("frm").addEventListener("submit", function(event){
                  event.preventDefault();

                  let valid=true;

                  // user name validation 

                  let userName = document.getElementById("userName");
                  let userError = document.getElementById("userError");

                  if(userName.value.length<3 || userName.value.length>25){
                        valid=false;
                        userName.setAttribute("class", "border border-danger form-control w-75");
                        userError.textContent="User Name must be between 3 to 25 charecters";
                  }else{
                        userName.setAttribute("class", "border border-success form-control w-75");
                        userError.textContent="";
                  }

                  // Email validation

                  let email = document.getElementById("email");
                  let emailError = document.getElementById("emailError");

                  emailRegex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;

                  if(!emailRegex.test(email.value)){
                        valid=false;
                        email.setAttribute("class", "border border-danger form-control w-75");
                        emailError.textContent="Please enter valid Email";
                  }else{
                        email.setAttribute("class", "border border-success form-control w-75");
                        emailError.textContent="";
                  }

                  // password validation

                  let password = document.getElementById("password");
                  let pwError = document.getElementById("pwError");

                  const passwordRegex = /^(?=.[a-z])(?=.[A-Z])(?=.\d)(?=.[@#$%^&+=]).{8,}$/;

                  if(passwordRegex.test(password.value)){
                        valid=false;
                        password.setAttribute("class", "border border-danger form-control w-75");
                        pwError.textContent="Password must be at least 8 characters that includes at least 1 lowercase character, 1 uppercase character, 1 number and 1 special character. ";
                  }else{
                        password.setAttribute("class", "border border-success form-control w-75");
                        pwError.textContent="";
                  }

                  // confirm password validation

                  let conPassword = document.getElementById("conPassword");
                  let conpwError = document.getElementById("conpwError");

                  if(conPassword.value!==password.value || conPassword==""){
                        valid=false;
                        conPassword.setAttribute("class", "border border-danger form-control w-75");
                        conpwError.textContent="Password do not match";
                  }else{
                        conPassword.setAttribute("class", "border border-success form-control w-75");
                        conpwError.textContent="";
                  }
            })
      </script>
</body>
</html>